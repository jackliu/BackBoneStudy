<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
    <head>
        <title>BackBoneStudy</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <div id="d">BackBone.</div>
    </body>
    <script src="js/libs/jquery-1.8.0/jquery.js" type="text/javascript"></script>
    <script src="js/libs/underscore.js-1.3.1-amdjs/underscore.js" type="text/javascript"></script>
    <script src="js/libs/backbone.js-0.9.2-amdjs/backbone-min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function() {
            Man = Backbone.Model.extend({
                initialize: function() {
                    // console.info("Hello");
                    this.bind("change:name", function() {
                        var name = this.get('name');
                        console.info("你改变了name的属性:" + name);
                    });
                    this.bind("error", function(model, error) {
                        console.info(error);
                    });
                },
                defaults: {
                    name: "张三",
                    age: "30"
                },
                validate: function(attributes) {
                    if (attributes.name === '') {
                        return "name不能为空";
                    }
                },
                speak: function() {
                    return "我是" + this.get('name') + "," + this.get('age') + "岁了.";
                }
            });
            var man = new Man();
            man.set({name: "李四", age: "13"});
            console.info(man.get("name"));
            console.info(man.speak());
            console.info(man.set({name: ""}));
            
        });
    </script>
</html>
